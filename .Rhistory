# names of variables which are discrete and continuous, using funModeling
funModeling::dnames <- names(split_columns(df)$discrete)
dnames <- names(funModeling::split_columns(df)$discrete)
cnames <- names(funModeling::split_columns(df)$continuous)
library(funModeling)
library(funModelling)
install.packages("funModeling")
library(funModeling)
dnames <- names(funModeling::split_columns(df)$discrete)
cnames <- names(funModeling::split_columns(df)$continuous)
dnames[1]
library(DataExplorer)
names(dataExplorer::split_columns(df)$discrete)
names(DataExplorer::split_columns(df)$discrete)
x <- dnames[1]
dnames <- names(DataExplorer::split_columns(df)$discrete)
cnames <- names(DataExplorer::split_columns(df)$continuous)
x <- dnames[1]
GGally::ggpairs(df,
, aes(colour = x ) )
dnames[1]
x
x[1]
as.character(x[1])
GGally::ggpairs(df,
, aes(colour = cut() )
)
cnames
Gally::ggpairs(df,
, aes(colour = carat )
)
GGally::ggpairs(df,
, aes(colour = carat )
)
GGally::ggpairs(select(df,cnames)
, aes(colour = carat )
)
library(dplyr)
select(df,cnames)
GGally::ggpairs(select(df,cnames)
, aes(colour = carat )
)
GGally::ggpairs(select(df,cnames)
, aes(colour = cut )
)
dnames
x
GGally::ggpairs(select(df,cnames)
, aes(colour = x )
)
as.character(dnames[1])
x <- as.character(dnames[1])   ###dnames[1]
GGally::ggpairs(select(df,cnames)
,aes(colour = x) )
x
df(dnames[1])
df[colnames=dnames[1]]
df[colnames=dnames[1],]
lapply(dnames, FUN=function(x) {
x <- as.character(dnames[1])   ###dnames[1]
GGally::ggpairs(select(df,cnames)
,aes(colour = x) )
})
df$V1
df$dnames[1]
lapply(cnames, FUN=function(x) {
c(
x,
funModeling::tukey_outlier(df$x)
)
}
)
x <- dnames[1]
dnames <- names(DataExplorer::split_columns(df)$discrete)
cnames <- names(DataExplorer::split_columns(df)$continuous)
x <- dnames[1]
GGally::ggpairs(select(df,cnames)
,aes(colour = df$x) )
df$x
x
x <- dnames[2]
x
df$x
head/df)
head(df)
cnames
dnames
dnames[2]
head(df$x)
xx <- dnames[2]
GGally::ggpairs(select(df,cnames)
,aes(colour = df$xx) )
xx <- dnames[2]
GGally::ggpairs(select(df,cnames)
,aes(colour = df$xx) )
lapply(cnames, FUN=function(x) {
c(
x,
funModeling::tukey_outlier(df$x)
)
}
)
xx
df$xx
df$color
lapply(dnames, FUN=function(var) {
GGally::ggpairs(select(df,cnames)
,aes(colour = df$var) )
)
lapply(dnames, FUN=function(var) {
GGally::ggpairs(select(df,cnames)
,aes(colour = df$var) )
})
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::tukey_outlier(df$x0)
)
}
)
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::hampel_outlier(df$x0)
)
}
)
dnames
df[cnames]
lapply(dnames, FUN=function(var) {
GGally::ggpairs(select(df,cnames)
,aes(colour = df[var]) )
})
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::tukey_outlier(df[x0])
)
}
)
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::tukey_outlier(df[x0])
)
}
)
cnames
x0
df[cut]
df["cut"]
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::tukey_outlier(df[x0])
)
}
)
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::tukey_outlier(as.data.frame(df)[x0])
)
}
)
as.data.frame(df)["cut"]
as.data.frame(df["cut"])
str(as.data.frame(df["cut"]))
str(as.data.frame(df)["cut"])
lapply(dnames, FUN=function(var) {
GGally::ggpairs(select(df,cnames)
,aes(colour = as.data.frame(df)[var]) )
})
select(df,cnames)
var <- "cut"
GGally::ggpairs(select(df,cnames)
,aes(colour = as.data.frame(df)[var]) )
levels(as.data.frame(df)[var]))
levels(as.data.frame(df)[var])
var <- "cut"
GGally::ggpairs(select(df,cnames)
,aes(colour = factor(as.data.frame(df)[var]))
)
lapply(dnames, FUN=function(var) {
var <- "cut"
GGally::ggpairs(select(df,cnames)
,aes(colour = factor(as.data.frame(df)[var])))
})
lapply(dnames, FUN=function(var) {
var <- "cut"
GGally::ggpairs( select(df,cnames)
,aes(
colour = factor(as.data.frame(df)[var])
)
)
}
)
ggpairs(select(micro_s,
logwage,
eduShort,
occup,
econ_activ,
exper_total,
time_arbitr)
, aes(colour = occup) )
var <- "cut"
factor(as.data.frame(df)[var])
var <- "cut"
GGally::ggpairs(
select(df,cnames)
,aes(
colour = factor(as.data.frame(df)[var])
)
)
var
GGally::ggpairs(
select(df,cnames)
,aes(
colour = factor(as.data.frame(df)[var])
)
)
df[var]
as.data.frame(df[var])
str(as.data.frame(df[var]))
str(df[var])
as.data.frame(df[var])[1]
var <- "cut"
GGally::ggpairs(
select(df,cnames)
,aes(
colour = as.data.frame(df[var])[1]
)
)
as.data.frame(df[var])[1]
str(as.data.frame(df[var])[1])
str((df[var])[1])
as.character(df[var])[1]
as.character(df[var])
(df[var])
as.factor(df[var])
levels(df[var])
levels(factor(df[var]))
factor(df[var])
factor(as.matrix(df[var])
)
levels(factor(as.matrix(df[var]))
)
GGally::ggpairs(
select(df,cnames)
,aes(
colour = levels(factor(as.matrix(df[var])))
)
)
df[var]
df[var][1,]
df[var][,1]
GGally::ggpairs(
select(df,cnames)
,aes(
colour = df[var][,1]
)
)
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::hampel_outlier(df[x0])
)
}
)
x0
funModeling::hampel_outlier(df[x])
df[x])
df[x]
df[depth]
df[z]
df
funModeling::hampel_outlier(df[[z]])
df[[z]]
funModeling::hampel_outlier(df[["z"]])
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::hampel_outlier(df[["x0"]])
)
}
)
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::hampel_outlier(df[[x0]])
)
}
)
lapply(cnames, FUN=function(x0) {
c(
x0,
funModeling::tukey_outlier(as.data.frame(df)[[x0]])
)
}
)
lapply(cnames, FUN=function(x0) {
tabplot::tableplot(dat=df, sortCol=x0)
}
)
library(tabplot)
lapply(cnames, FUN=function(x0) {
tabplot::tableplot(dat=df, sortCol=x0)
}
)
library("tabplot")
install.packages("tabplot")
var
r <- "cut"
GGally::ggpairs(
select(df,cnames)
,aes(
colour = df[[var]]
)
)
lapply(dnames, FUN=function(var) {
GGally::ggpairs(
select(df,cnames)
,aes(
colour = df[[var]]
)
)
}
)
lapply(dnames, FUN=function(var) {
GGally::ggpairs(
df
#select(df,cnames)
,aes(
colour = df[[var]]
)
)
}
)
library(tabplot, magrittr)
install.packages(tabplot)
install.packages("tabplot")
df = ggplot2::diamonds
library(ggplot2)
install.packages("ggplot2")
df = ggplot2::diamonds
library(ggplot2)
df <- ggplot2::diamonds
if (nrow(df) > 50000) {df %>% df[sample(rownames(df), size=50000)]}
library(magrittr)
# table plots from tabplot package
# make ff package work correctly:
# with: set options(fftempdir = "path/to/your/folder") to a folder where you have access to
#getOption("fftempdir")
##ff:setOptions("fftempdir" = getwd())
if (nrow(df) > 50000) {df %>% df[sample(rownames(df), size=50000)]}    ### set this as on option whih could be adjusted
nrow(df)
df[sample(rownames(df), size=50),]
if (nrow(df) > 50000) {df %<>% df[sample(rownames(df), size=50000), replace=TRUE]}    ### set this as on option whih could be adjusted
if (nrow(df) > 50000) {df %<>% df[sample(rownames(df), size=50000)]}
# table plots from tabplot package
# make ff package work correctly:
# with: set options(fftempdir = "path/to/your/folder") to a folder where you have access to
#getOption("fftempdir")
##ff:setOptions("fftempdir" = getwd())
if (nrow(df) > 50000) {df %<>% df[sample(rownames(df), size=50), ]}    ### set this as on option whih could be adjusted
df[sample(rownames(df), size=50), ]
df %<>% df[sample(rownames(df), size=50), ]
df =df[sample(rownames(df), size=50), ]
df = ggplot2::diamonds
if (nrow(df) > 50000) {  df = df[sample(rownames(df), size=50), ]  }
library(tabplot)
lapply(dnames, FUN=function(var) {
DataExplorer::plot_boxplot(df, df[[var]] )
}
)
dnames <-names(split_columns(df)$discrete)
cnames <- names(split_columns(df)$continuous)
install.packages("O3")
install.packages("outliers")
library(revaliew)
library(revaliew)
library(devtools)
install.package(devtools)
install.packages(devtools)
install.packages("devtools")
library(revaliew)
library(Roxygen2)
install.packages(Roxygen2)
install.packages(roxygen2)
install.packages("roxygen2")
getwd
getwd()
setwd()
setwd(..)
setwd(H:/workingProj)
setwd(H:\workingProj)
setwd("H:/workingProj")
document(reavliew)
library(roxygen2)
document()
roxygenise(revaliew)
roxygenise("revaliew")
install.packages("tidyverse")
ls()
install.packages("outliers")
library(outliers)
library(revaliew)
library(revaliew)
devtools::install_github("rstudio/packrat")
find.package("base")
Sys.getenv("R_WIN_NO_JUNCTIONS")
find.package("outliers")
install.packages("outliers", lib="H:/workingProj/revaliew/packrat/lib-ext/x86_64-w64-mingw32/3.5.1")
library(revaliew)
library(revaliew)
library(revaliew)
xxxx <- rnorm(100) # null
jarque.bera.test(xxxx)
xxxx <- rnorm(100)
tseries::jarque.bera.test(xxxx)
install.packages("tseries", lib="H:/workingProj/revaliew/packrat/lib-ext/x86_64-w64-mingw32/3.5.1")
tseries::jarque.bera.test(xxxx)
xxxx <- runif(100) # alternative
jarque.bera.test(xxxx)
kpss.test(xxxx)
tseries::kpss.test(xxxx)
}
tseries::adf.test(rnorm(100))
xxxx <- 0.3*(1:1000)+rnorm(1000) # is trend stationary
tseries::kpss.test(xxxx, null = "Trend")
tseries::adf.test(rnorm(100))
print(Box.test (residuals(dfa), lag = 1, type="Ljung"))
# or, for example
dfa <- 0.3*(1:1000)+rnorm(1000) # is trend stationary
print(raintest(dfa, order.by="mahalanobis"))
## not here: ##print(raintest(dfa, order.by="mahalanobis"))
dwtest(dfa)
## not here: ##print(raintest(dfa, order.by="mahalanobis"))
lmtest::dwtest(dfa)
install.packages("lmtest")
# or, for example
dfa <- 0.3*(1:1000)+rnorm(1000) # is trend stationary
## not here: ##print(raintest(dfa, order.by="mahalanobis"))
lmtest::dwtest(dfa)
print(Box.test (residuals(dfa), lag = 1, type="Ljung"))
## need a model, not a vector
print(raintest(dfa, order.by="mahalanobis"))
## need a model, not a vector
print(lmtest::raintest(dfa, order.by="mahalanobis"))
dev.new()
opar <- par(mfrow = c(2,2), oma = c(0, 0, 1.1, 0))
plot(dfa, las = 1)
print(jarque.bera.test(residuals(dfa)))
print(tseries::jarque.bera.test(dfa))
plot(dfa, las = 1)
opar <- par(mfrow = c(2,2), oma = c(0, 0, 1.1, 0))
plot(dfa, las = 1)
opar <- par(mfrow = c(2,2), oma = c(0, 0, 1.1, 0))
plot(dfa, las = 1)
dfa
yyyy <- cumsum(xxxx) # has unit root
xxxx <- rnorm(1000) # is level stationary
tseries::kpss.test(xxxx)
yyyy <- cumsum(xxxx) # has unit root
kpss.test(yyyy)
tseries::kpss.test(yyyy)
tseries::kpss.test(xxxx, null = "Trend")
tseries::adf.test(rnorm(100))
tseries::pacf.test(rnorm(100))
tseries::pacf(rnorm(100))
tseries::acf(rnorm(100))
tseries::adf.test(rnorm(100))
tseries::acf.test(rnorm(100))
tseries::adf.test(rnorm(100))
forecast::Pacf(xxxx)
forecast::Pacf(xxxx)
forecast::taperedacf(xxxx)
#cross-correlations of two series
forecast::Ccf(xxxx, yyyy)
forecast::Pacf(xxxx)
#tseries::adf.test(rnorm(100))
#tseries::acf(rnorm(100))
#improved by Hyndman, in forecast package (maybe more in tidyvets)
forecast::Acf(xxxx)
document()
devtools::document()
install.packages("testit")
library(testit)
library(testthat)
has_warning(2-3)
has_error(1+"a")
has_error(stop("err"))
has_error(stop("err"), silent=TRUE)
assert('A non-exported function works', {
res = utility_foo(x = 'abcd', y = 1:100)
(is.character(res))
})
try(assert("logical(0) cannot pass", 1 == integer(0)))
stopifnot(1 == integer(0)) # it's OK!
# a compound expression
try(assert("this if statement returns TRUE", if (TRUE) {
x = 1
x == 2
}))
assert(!FALSE, TRUE, is.na(NA))
}
packrat::init()
library(packrat)
packrat::init()
packrat::init()
install.packages(testthat)
install.packages("testthat")
